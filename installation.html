

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation &mdash; Mercury 0.0.7 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Mercury 0.0.7 documentation" href="index.html"/>
        <link rel="next" title="Building a Development Environment for Mercury" href="dev_environment.html"/>
        <link rel="prev" title="Inventory" href="inventory.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Mercury
          

          
          </a>

          
            
            
              <div class="version">
                0.0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="inventory.html">Inventory</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server">Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#agent">Agent</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#module-mercury.hardware.raid.abstraction.api">RAID Abstraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_environment.html">Building a Development Environment for Mercury</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Mercury</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Installation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/installation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>For development and testing, the server and the agent can be directly installed
from pip. The agent typically runs in an a stateless environment with access to
server management utilities. For the safety of your development environment, <strong>do
not run the agent as root</strong>, unless you really know what you are doing.</p>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>Python 3.5+ for the server</p>
<p>Python 2.7+ for the agent</p>
</div>
<div class="section" id="server">
<h2>Server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip install mercury-server
</pre></div>
</div>
</div>
<div class="section" id="agent">
<h2>Agent<a class="headerlink" href="#agent" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip install mercury-agent
</pre></div>
</div>
</div>
</div>
<div class="section" id="module-mercury.hardware.raid.abstraction.api">
<span id="raid-abstraction"></span><h1>RAID Abstraction<a class="headerlink" href="#module-mercury.hardware.raid.abstraction.api" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="mercury.hardware.raid.abstraction.api.RAIDActions">
<em class="property">class </em><code class="descclassname">mercury.hardware.raid.abstraction.api.</code><code class="descname">RAIDActions</code><a class="headerlink" href="#mercury.hardware.raid.abstraction.api.RAIDActions" title="Permalink to this definition">¶</a></dt>
<dd><p>Bare bones RAID abstraction layer. Simple support for querying and modifying a RAID controller
through a standard interface. Many things are not supported, but may be added at a later date
If controller specific advanced features are needed, see the provider APIs and RPC capabilities</p>
<dl class="method">
<dt id="mercury.hardware.raid.abstraction.api.RAIDActions.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>adapter_info</em>, <em>level</em>, <em>drives=None</em>, <em>size=None</em>, <em>array=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mercury.hardware.raid.abstraction.api.RAIDActions.create" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should only be called from the base classes create_logical_volume method.
This method will be implemented by all Actions classes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>adapter_info</strong> – Transformed adapter data</li>
<li><strong>level</strong> (<em>str</em>) – A supported RAID level</li>
<li><strong>drives</strong> – A zero based, expanded list of participating drive indexes.
Should be None if array is specified</li>
<li><strong>size</strong> – A python-size object or None (maximum)</li>
<li><strong>array</strong> – The index of the existing array (with sufficient free space) being targeted
Should be None if drives are specified</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mercury.hardware.raid.abstraction.api.RAIDActions.create_logical_drive">
<code class="descname">create_logical_drive</code><span class="sig-paren">(</span><em>adapter</em>, <em>level</em>, <em>drives=None</em>, <em>size=None</em>, <em>array=None</em><span class="sig-paren">)</span><a class="headerlink" href="#mercury.hardware.raid.abstraction.api.RAIDActions.create_logical_drive" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>adapter</strong> (<em>int</em>) – </li>
<li><strong>level</strong> (<em>str</em>) – 0, 1, 5, 6, 10, 1+0, 50, 60</li>
<li><strong>drives</strong> – <p>drives should be referenced as 0 based comma separated indexes, ranges,
or a combination of both. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span>
    <span class="ow">or</span>
<span class="mi">0</span><span class="o">-</span><span class="mi">3</span>
    <span class="ow">or</span>
<span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span>
</pre></div>
</div>
<p>When using a range, both the lower and upper bounds are inclusive</p>
<p>Another option is to use all or unassigned. <cite>all</cite> requires that all drives on the
adapter are not part of the array. <cite>unassigned</cite> will select all drives not currently
members of an array or participating as spares</p>
</li>
<li><strong>size</strong> – Size can be specified in bytes (int), a string using SI or IEC standards,</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>a percent of total space, or a percent of free space available. If no size is listed,
all available space will be used
:param array: An index of an existing array we are updating
:return:</p>
</dd></dl>

<dl class="method">
<dt id="mercury.hardware.raid.abstraction.api.RAIDActions.create_logical_drive_on_existing_array">
<code class="descname">create_logical_drive_on_existing_array</code><span class="sig-paren">(</span><em>adapter</em>, <em>adapter_info</em>, <em>level</em>, <em>array</em>, <em>converted_size</em>, <em>percent_string</em><span class="sig-paren">)</span><a class="headerlink" href="#mercury.hardware.raid.abstraction.api.RAIDActions.create_logical_drive_on_existing_array" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>adapter</strong> – </li>
<li><strong>adapter_info</strong> – </li>
<li><strong>level</strong> – </li>
<li><strong>array</strong> – </li>
<li><strong>converted_size</strong> – </li>
<li><strong>percent_string</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mercury.hardware.raid.abstraction.api.RAIDActions.create_logical_drive_on_new_array">
<code class="descname">create_logical_drive_on_new_array</code><span class="sig-paren">(</span><em>adapter</em>, <em>adapter_info</em>, <em>level</em>, <em>drives</em>, <em>converted_size</em>, <em>percent_string</em><span class="sig-paren">)</span><a class="headerlink" href="#mercury.hardware.raid.abstraction.api.RAIDActions.create_logical_drive_on_new_array" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>adapter</strong> – </li>
<li><strong>adapter_info</strong> – </li>
<li><strong>level</strong> – </li>
<li><strong>drives</strong> – </li>
<li><strong>converted_size</strong> – </li>
<li><strong>percent_string</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mercury.hardware.raid.abstraction.api.RAIDActions.get_adapter_info">
<code class="descname">get_adapter_info</code><span class="sig-paren">(</span><em>adapter_index</em><span class="sig-paren">)</span><a class="headerlink" href="#mercury.hardware.raid.abstraction.api.RAIDActions.get_adapter_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns adapter details in a standard format. The driver is responsible for finding
adapters to perform actions on. The abstraction uses indexes rather than vendor references.</p>
<p>For instance, hpsa uses pci slot ids to specify adapters, onboard adapters will be 0,
expansion cards will be 3 and 4, should they occupy pci-e slots 3 and 4 on the riser card.
In order to ‘flatten’ the interface, these cards will be accessed by enumeration:</p>
<p>adapter0: slot0
adapter1: slot3
adapter2: slot4</p>
<p>In the rare occurrence that there are multiple manufacturers, cards will enumerated based
on there subsystem ids (PCI Ids for example). To implement this, the driver probe process
will need to change so that drivers and handlers are registered in PCI order and not import
order. Talk to Jared R. about implementation details as he is soldiering on.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>adapter_index</strong> – The index of the adapter to populate configuration information</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary representing the adapter</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="mercury.hardware.raid.abstraction.api.RAIDActions.get_all_drives">
<code class="descname">get_all_drives</code><span class="sig-paren">(</span><em>adapter_index</em><span class="sig-paren">)</span><a class="headerlink" href="#mercury.hardware.raid.abstraction.api.RAIDActions.get_all_drives" title="Permalink to this definition">¶</a></dt>
<dd><p>Get drives while preserving array membership
:param adapter_index: target adapter
:return: drives
:return type: list</p>
</dd></dl>

<dl class="staticmethod">
<dt id="mercury.hardware.raid.abstraction.api.RAIDActions.get_selection_from_pattern">
<em class="property">static </em><code class="descname">get_selection_from_pattern</code><span class="sig-paren">(</span><em>pattern</em><span class="sig-paren">)</span><a class="headerlink" href="#mercury.hardware.raid.abstraction.api.RAIDActions.get_selection_from_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>The pattern is a mechanism to target one or more drives attached to a controller.
See the create_logical_volume documentation for the full format
:param pattern:
:type pattern: str
:return: a list of indexes</p>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dev_environment.html" class="btn btn-neutral float-right" title="Building a Development Environment for Mercury" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="inventory.html" class="btn btn-neutral" title="Inventory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Jared Rodriguez.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>